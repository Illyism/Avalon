extends ../layout

block head
  - var title = "Play Avalon Now - Creation & Login. Javalon, java client or Lumiere, flash client."
  - var description = "Adventure Game, Avalon - Online RPG games multiuser world. Premier online RPG adventure multiplayer world. Online RPG adventure (Roleplaying Games or RPGs) with Windows and java game clients for instant RPG games play. Avalon is an online multiplayer role playing world which caters for those who know: the book is always better than the movie.";
  - var keywords = "Adventure Game, Online RPGs, Online RPG, Online RPG Games, role playing games, multiuser games, internet, telnet clients, java games";
  link(rel="canonical", href="http://www.avalon-rpg.com/play/")
    
block content
  .ui.content
    .contain
      .ui.grid
        .eight.column.wide

          form(method="post", action="/lumiere").ui.form.box#createForm
            h3.ui.title.underline Create a new Avalon character
            .field.username
              .ui.input
                label(for="create-username") Character Name
                input#create-username(type="text", name="username", maxlength=18)
                p 3 characters minimum, letters only. Be sure to choose a name appropriate for a fantasy game-world setting.
            .two.fields.password
              .field
                .ui.input
                  label(for="create-password") Password
                  input#create-password(type="password", name="password", maxlength=50)
              .field
                .ui.input
                  label(for="create-confirmpass") Confirm Password
                  input#create-confirmpass(type="password", name="confirmpass", maxlength=50)
              p(style="margin-bottom: 16px;") 3 characters minimum, may include letters, numbers and punctuation, but no spaces, carets or tildes. Example: s_ecr3.t.
            .field.user
              .ui.input
                label(for="create-email") Email
                input#create-email(type="text", name="email")
                p Entering your e-mail address will ensure that your character is saved when you exit as we regularly delete unregistered characters to make room for new players.
            .two.fields
              p Gender
              .field.inline
                input#male(type="radio", name="gender", value="male", checked="checked")
                label(for="male") Male
              .field.inline
                input#female(type="radio", name="gender", value="female")
                label(for="female") Female
            .two.fields
              p Client
              .field.inline
                input#create-run-lumiere(type="radio", name="run", value="lumiere", checked="checked")
                label(for="create-run-lumiere") Lumiere
                p our new client; works for everyone
              .field.inline
                input#create-run-applet(type="radio", name="run", value="applet")
                label(for="create-run-applet") Javalon
                p our original client; works for most people
              p Lumiere is a Flash application which runs in your browser. Use Lumiere for maximum compatibility with Avalon. WARNING: Lumiere is still in its testing phase and only has the essential features to play Avalon. Choose Javalon if you want to enjoy all available features.
            input(type="hidden", name="create", value="yes")
            input(type="hidden", name="loginkey", value="")
            button.ui.button.save.fluid(style="margin-top: 16px;") Create a new character

        .eight.column.wide
          form(method="post", action="/lumiere").ui.form.box#loginForm
            h3.ui.title.underline Login existing character
            .field.username
              .ui.input
                label(for="login-username") Character Name
                input#login-username(type="text", name="username")
            .field
              .ui.input
                label Password
                input#login-password(type="password", name="password")
            .two.fields
              p Client
              .field.inline
                input#login-run-lumiere(type="radio", name="run", value="lumiere", checked="checked")
                label(for="login-run-lumiere") Lumiere
                p our new client; works for everyone
              .field.inline
                input#login-run-applet(type="radio", name="run", value="applet")
                label(for="login-run-applet") Javalon
                p our original client; works for most people
              p Lumiere is a Flash application which runs in your browser. Use Lumiere for maximum compatibility with Avalon. WARNING: Lumiere is still in its testing phase and only has the essential features to play Avalon. Choose Javalon if you want to enjoy all available features.

            input(type="hidden", name="create", value="no")
            input(type="hidden", name="loginkey", value="0")
            button.ui.button.save.fluid(style="margin-top: 16px;") Login

block scripts
  script(src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.13.1/jquery.validate.min.js")
  script.
    $("#createForm").validate({
      onkeyup: false,
      rules: {
        username: {
          required: "required",
          minlength: 3,
          remote: {
            url: "/api/checkname",
            data: {
              format: "boolean"
            }
          }
        },
        password: "required",
        confirmpass: {
          equalTo: "#create-password",
          required: "required"
        },
        email: "email",
      },
      messages: {
          username: {
            required: "This field is required",
            minlength: "Your username needs to be at least 3 characters",
            maxlength: "Your username needs to be less than 18 characters",
            remote: "You can't use this name, try another one."
          }
        }
    });

    $("#loginForm").validate({
      rules: {
        username: {
          required: "required",
          minlength: 3,
          maxlength: 18
        },
        password: "required"
      }
    });